const container = document.getElementById('ball-container');
const mainBall = document.getElementById('main-ball');
const resultBox = document.getElementById('result');
const drawBtn = document.getElementById('drawBtn');

const challenges = [
  "주말 외식 대신 만든 식사 한 끼 먹기",
  "닭가슴살 또는 삶은 계란을 곁들인 식사 올리기",
  "채소 3가지 이상 포함된 식사 사진 올리기",
  "현미밥 또는 귀리밥으로 구성한 한 끼 올리기",
  "반찬을 단백질+채소 중심으로 구성해보기",
  "양념 없이 구운 단백질 반찬 인증하기",
  "샐러드 + 단백질을 곁들인 다이어트 플레이트 구성해보기",
  "하루 세 끼를 모두 사진으로 인증해보기",
  "고구마나 단호박을 활용한 다이어트 식사하기",
  "탄산 음료 대신 물과 함께 식사 인증하기",
  "식사 전후 전경을 예쁘게 찍어서 비교 인증하기",
  "소스 없이 간단하게 조리한 식단 구성해보기",
  "직접 만든 다이어트 도시락 인증하기",
  "패스트푸드 대신 집밥으로 대체한 식사 사진 올리기",
  "밀가루 없이 만든 한 끼 구성해서 먹기",
  "조미료 없이 자연식 위주 식사 해보기",
  "하루 중 가장 건강했던 한 끼를 BEST PICK으로 올리기",
  "아침 식사 인증샷 올리기",
  "점심에 고단백 식사 구성해보기",
  "저녁은 가볍게 단백질 위주로 구성하기",
  "탄수화물은 1가지로 줄여 구성해보기",
  "야채를 메인으로 구성한 한 끼 인증하기",
  "빵 대신 밥으로 구성한 식사 인증하기",
  "육류 대신 생선이나 두부를 사용한 식사 올리기",
  "달걀 프라이 or 삶은달걀 포함 식사 올리기",
  "후추·소금 외 다른 양념 없이 먹은 식사 인증하기",
  "냉장고 속 재료로 즉흥 식단 구성해서 먹기",
  "장 본 재료로 다이어트 반찬 만들어 인증하기",
  "외식 시 건강하게 선택한 메뉴 사진 올리기",
  "탄수-단백-지방 균형 맞춘 식사 구성해보기",
  "간식 대신 한 끼로 구성해서 식사 인증하기",
  "식사에 포함된 재료를 5가지 이상 찍어보기",
  "혼자 먹는 건강한 식사 분위기 사진 올리기",
  "가족과 함께 먹은 건강한 식사 인증하기",
  "오늘 하루 식단 중 가장 만족스러웠던 식사 올리기",
  "하루 동안 먹은 식사 3컷 모아서 올리기",
  "닭가슴살과 채소로 도시락 만들어서 먹기",
  "방울토마토나 오이 같은 건강 간식 곁들여 보기",
  "국 없이 먹은 식단 구성해보기",
  "볶거나 튀기지 않고 찐 음식으로 구성한 식사 올리기",
  "된장국/찌개 없이 반찬 중심으로 구성한 식단 인증",
  "콩 또는 두유 포함된 식사 먹기",
  "탄수화물 섭취량을 1/2로 줄여본 식사",
  "아보카도 등 건강 지방 포함된 식사 구성해보기",
  "저당 소스로 맛낸 식사 구성해보기",
  "오늘의 식단에 별점 주기 + 사진 올리기",
  "소식(小食)으로 구성한 한 끼 인증하기",
  "외출 시 도시락 싸서 가져가 인증하기",
  "오늘 가장 건강했던 간식 사진 공유하기",
  "냉동식품 없이 구성한 건강식사 인증하기",
  "정제당 없는 하루 식사 인증하기",
  "요리 과정 or 재료 손질 사진 함께 올리기",
  "계란을 활용한 다양한 조리 방법 중 하나 선택해서 먹기",
  "소금 없이 조리해본 식단 구성해보기",
  "식사 전후 배부름 정도 표현하기 (사진으로)",
  "탄수화물은 한 접시 안에서만 구성해보기",
  "직접 조리한 반찬 2가지 이상 포함 식사 올리기",
  "마트에서 고른 건강식 재료 중 하나로 식사해보기",
  "식사 시간 지켜서 인증하기",
  "건강 식단에 어울리는 그릇 세팅해서 찍어보기",
  "외식했더라도 건강한 선택을 인증해보기",
  "집밥으로 구성한 저녁 인증하기",
  "단백질 쉐이크 없이 음식으로 단백질 채운 식사 올리기",
  "영양 밸런스를 고려한 식사 구성 올리기",
  "오늘 가장 참기 어려웠던 유혹 대신 먹은 식사 인증",
  "매운 음식 대신 순한 식단으로 구성해보기",
  "반찬 수 3개 이하로 심플하게 구성해보기",
  "과일을 한 가지 곁들인 식사 인증하기",
  "한 입 크기로 예쁘게 플레이팅해 본 식사 인증",
  "다이어트를 포기하지 않고 구성한 위기 극복 식사 올리기",
  "정해진 식사 그릇에만 담아서 먹은 인증하기",
  "식사 구성 전후 비교 사진 찍어보기",
  "탄수화물 줄인 만큼 단백질 추가해서 균형 맞추기",
  "하루 동안 먹은 물 대신 음료 없는 식사 인증",
  "식사량 전/후 남긴 것 없이 먹은 접시 인증",
  "전날과 달라진 점이 느껴지는 식사 인증",
  "운동 전후로 먹은 식사 비교해서 올리기",
  "나만의 다이어트 한 끼 레시피 사진 공유하기",
  "칼로리 계산 앱과 함께 식사 기록 올리기",
  "오늘의 다짐과 함께 식단 인증 올리기",
  "소고기/돼지고기 대신 흰살육(닭, 생선 등)으로 구성하기",
  "스프 대신 반찬 위주 식사로 구성해보기",
  "샐러드에 단백질 추가해서 풍성하게 구성해보기",
  "조미김 없이 자연재료 반찬 위주로 구성해보기",
  "과일보다 채소 비중 높은 식사 구성해보기",
  "집에 있는 식재료로 창의적인 다이어트 식단 만들기",
  "물과 함께 먹은 한 끼 촬영해서 올리기",
  "다이어트 중 가장 자랑하고 싶은 식사 선정해 올리기",
  "아침에 먹은 식사와 저녁 식단 비교해서 올리기",
  "배달음식 대신 직접 만든 건강식사 인증하기",
  "음식 색감 다양하게 구성해 본 식단 인증하기",
  "하루 식단 총평과 함께 BEST 컷 공유하기"
];

let balls = [];
let isDrawn = false;

function createBall(i) {
  const ball = document.createElement('div');
  ball.classList.add('ball');
  ball.innerText = i + 1;
  ball.style.left = Math.random() * (window.innerWidth - 60) + 'px';
  ball.style.top = Math.random() * (window.innerHeight * 0.6 - 60) + 'px';
  container.appendChild(ball);
  balls.push(ball);
}

function clearBalls() {
  balls.forEach(ball => container.removeChild(ball));
  balls = [];
}

function startLotto() {
  if (isDrawn) return;
  isDrawn = true;

  clearBalls();
  mainBall.classList.remove('show');
  resultBox.innerHTML = '';

  for (let i = 0; i < 20; i++) {
    createBall(i);
  }

  setTimeout(() => {
    clearBalls();
    const index = Math.floor(Math.random() * challenges.length);
    const text = challenges[index];
    mainBall.innerText = text;
    mainBall.classList.add('show');
    resultBox.innerHTML = <strong>🌿 오늘의 챌린지:</strong><br>“${text}”;

    drawBtn.disabled = true;
    drawBtn.innerText = '✅ 추첨 완료!';
  }, 1500);
}
